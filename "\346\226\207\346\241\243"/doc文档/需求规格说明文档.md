# 在线电影售票系统

# 需求规格说明文档

## 版本号：1.0

## 更新历史

| 修改人员                  | 日期      | 变更原因 | 版本号    |
| ------------------------- | --------- | -------- | --------- |
| 陆放明 杨云鹏 周政 韩虚虹 | 2019-3-23 | 最初草稿 | V1.0 草稿 |
| 陆放明 | 2019-6-18 | 增加第三阶段内容 | V1.0 草稿 |
| 韩虚虹 | 2019-6-18 | 增加第三阶段内容 | V1.0 草稿 |
| 周政 | 2019-6-19 | 增加第三阶段内容 | V1.0 草稿 |
| 杨云鹏 | 2019-6-19 | 增加第三阶段内容 | V1.0 草稿 |

## 目录

[TOC]



## 1. 引言

### 1.1 目的

本文档描述了电影院售票管理系统的功能需求和非功能需求。开发小组的软件系统实现与验证工作都以此文档为依据。

除特殊说明之外，本文档所包含的需求都是高优先级需求。

### 1.2 范围

电影院售票管理系统是为XXX电影院开发的业务系统，开发的目标是帮助该影院处理日常的重点业务，包括电影票销售、电影上架管理、会员发展、影厅信息管理和商品促销。

现该影院规模扩大，企业业务量、员工数都发生增长，通过电影院售票管理系统应用，期望为该公司适应新的市场环境，提高工作效率和用户满意度，增加销售额，提高售票人员工作效率，为经理的决策做支持。

### 1.3 参考文献

<ol>
    1)IEEE标准<br>
    2)电影院售票管理系统用例文档<br>
</ol>
## 2 总体描述

### 2.1 商品前景

#### 2.1.1 背景与机遇


本电影院主要负责影片的销售工作，服务对象包括观众、影院管理人员、经理。现影院规模扩大，企业业务量、员工数都发生增长，随着人们生活质量等提高，电影市场蓬勃发展。为适应新的市场环境，提高工作效率和用户满意度， 该公司聘请公司S开发一套电影院售票管理系统。

电影院售票管理系统就是为了满足xxx影院的业务发展要求而开发的。该系统的开发，可以提升电影院工作人员地管理效率，使得售票不再那么繁琐；也大大的节约了人们排队购票的时间，同时也让观众有了更多的选择。

#### 2.1.2 业务需求

BR1: 系统上线运行三个月后，每个员工每天的平均有效工作时间增加20分钟。<br>
BR2: 系统上线运行六个月后，电影院收入提高20%。<br>
<ol>
    最好情况：40%。<br>
    最可能情况：20%。<br>
    最坏情况：10%<br>
</ol>
BR3: 系统上线运行六个月后，提高影院管理人员工作效率50%。<br>
BR4: 为经理的决策做支持。<br>
<ol>
    范围：制定促销策略。<br>
    度量：检查促销策略制定后平均每月销售额变化情况。<br>
</ol>
    

### 2.2 商品功能

<ol>
    SF1：帮助管理人员处理影片上架和下架。<br>
    SF2：帮助用户查看电影信息并根据当日播放场次选择订票。<br>
    SF3：帮助影院统计预售电影想看人数用于排片。<br>
    SF4：制定促销手段，进行销售竞争。<br>
</ol>

    

### 2.3 用户特征

角色|描述
---|---
管理人员|1到2名，负责对影片分类和影片的信息的管理。能够简单使用影院售票管理系统。对新系统基本持积极态度。希望减少现有工作量。
观众|能够简单使用影院售票管理系统。希望使用此系统管理自己想看的电影并快速高效地购买电影票。

### 2.4 约束

1. 后端采用JAVA语言
2. 用户可以在PC端浏览器使用
3. 进行图形化界面操作
4. 开发过程中，开发者要提交软件需求规格文档、设计文档和测试报告文档

### 2.5 假设和依赖

1. 某一场次的电影售票中，若票已经卖完，则关闭售票通道
2. 提供退票措施，并且能够及时进行提供电影剩余场次的反馈
3. 管理员登录账号为admin，初始密码admin，管理员账号主要负责对用户账户的信息和权限管理
4. 系统需提供新建账户功能，以保证用户的使用权限
5. 如果出现短时间购票高峰，实行排队措施

## 3 详细需求描述
### 3.1 对外接口需求
#### 3.1.1 用户界面 
- 上架影片UI_1

![](https://i.loli.net/2019/06/18/5d08bebb7999494355.png)

- 电影详细信息UI

![](https://i.loli.net/2019/06/18/5d08be615d8bc85189.png)

- 搜索电影UI_1

![](https://i.loli.net/2019/06/18/5d08be16b37f647882.png)

- 修改会员优惠策略UI

![](https://i.loli.net/2019/06/18/5d08bf07af8b422671.png)

- 用户退票UI

![](https://i.loli.net/2019/06/18/5d08bf64ea2ac73039.png)

#### 3.1.2 通信接口

## 1. 概述

### 1.1. 文档说明

### 1.2. 请求基路径

| 名称       | 基路径                               | 描述 | 状态 |
| ---------- | ------------------------------------ | ---- | ---- |
| 本地服务器 | http://localhost:18080/              |      | 启用 |
| 远端服务器 | http://106.14.140.93:8080/se-server/ |      | 启用 |



#### **1 用户登录**

 

**接口信息**

接口名称:用户登录

接口路径:localhost:18080/user/login

请求协议:HTTP

请求方法:POST

接口使用状态:正在测试

 

**请求参数**

参数类型：Json

根类型: Object

| **参数名** | **说明** | **必填** | **类型** | **限制** | **示例** |
| ---------- | -------- | -------- | -------- | -------- | -------- |
| account    |          | 是       | [string] |          |          |
| password   |          | 是       | [string] |          |          |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名**     | **说明**                                     |      | **类型** | **限制** | **示例** |
| -------------- | -------------------------------------------- | ---- | -------- | -------- | -------- |
| status         | 状态码                                       | 是   | [int]    |          |          |
| data           | 数据                                         | 是   | [json]   |          |          |
| data>>id       | 用户id                                       | 是   | [string] |          |          |
| data>>account  | 用户账户内容                                 | 是   | [string] |          |          |
| data>>roleName | 用户角色名称，仅用于页面更新, 不具有鉴权作用 | 是   | [string] |          |          |
| message        | 其他返回信息                                 | 是   | [string] |          |          |



#### **2 用户注册**

 

**接口信息**

接口名称:用户注册

接口路径:localhost:18080/user/register

请求协议:HTTP

请求方法:POST

接口使用状态:正在测试

 

**请求参数**

参数类型：Json

根类型: Object

| **参数名** | **说明** | **必填** | **类型** | **限制** | **示例** |
| ---------- | -------- | -------- | -------- | -------- | -------- |
| account    | 账号     | 是       | [string] |          |          |
| password   | 密码     | 是       | [string] |          |          |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名**    | **说明** |      | **类型** | **限制** | **示例**                         |
| ------------- | -------- | ---- | -------- | -------- | -------------------------------- |
| data          |          | 是   | [object] |          |                                  |
| data>>id      |          | 是   | [string] |          | 9d6948bc1b544c87b44a2e3c8423e8be |
| data>>account |          | 是   | [string] |          | as                               |
| message       |          | 是   | [string] |          | success                          |
| status        |          | 是   | [number] |          | 200                              |



#### **3 [影库] 获取指定搜索 电影列表**

 

**接口信息**

接口名称:[影库] 获取指定搜索 电影列表

接口路径:/movie/list/

请求协议:HTTP

请求方法:GET

接口使用状态:已经弃用

 

**GET参数**

 

| **参数名** | **说明**                 | **必填** | **类型** | **限制** | **示例** |
| ---------- | ------------------------ | -------- | -------- | -------- | -------- |
| state      | 1: 正在热映  0：即将上映 | 是       | [string] |          |          |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名**       | **说明** |      | **类型** | **限制** | **示例** |
| ---------------- | -------- | ---- | -------- | -------- | -------- |
| status           |          | 是   | [string] |          | 200      |
| data             |          | 是   | [array]  |          |          |
| data>>id         |          | 是   | [string] |          |          |
| data>>name       |          | 是   | [string] |          |          |
| data>>pic        |          | 是   | [string] |          |          |
| data>>briefIntro | 简介     | 是   | [string] |          |          |
| message          |          | 是   | [string] |          | success  |



#### **4 获取正在热映电影列表**

 

**接口信息**

接口名称:获取正在热映电影列表

接口路径:/movie/list/showing

请求协议:HTTP

请求方法:GET

接口使用状态:已经弃用

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名** | **说明** |      | **类型** | **限制** | **示例** |
| ---------- | -------- | ---- | -------- | -------- | -------- |
| status     |          | 是   | [string] |          | 200      |
| data       |          | 是   | [array]  |          |          |
| data>>pic  |          | 是   | [string] |          |          |
| data>>name |          | 是   | [string] |          |          |
| data>>id   |          | 是   | [string] |          |          |
| message    |          | 是   | [string] |          | success  |



#### **5 [影库] 关键字搜索**

 

**接口信息**

接口名称:[影库] 关键字搜索

接口路径:/movie/list/keys

请求协议:HTTP

请求方法:GET

接口使用状态:已经弃用

 

**请求参数**

参数类型：Json

根类型: Object

| **参数名** | **说明** | **必填** | **类型** | **限制** | **示例** |
| ---------- | -------- | -------- | -------- | -------- | -------- |
| key        | 关键字   | 是       | [string] |          | 头号玩家 |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名**       | **说明** |      | **类型** | **限制** | **示例** |
| ---------------- | -------- | ---- | -------- | -------- | -------- |
| status           |          | 是   | [string] |          | 200      |
| data             |          | 是   | [array]  |          |          |
| data>>id         |          | 是   | [string] |          |          |
| data>>pic        |          | 是   | [string] |          |          |
| data>>name       |          | 是   | [string] |          |          |
| data>>score      |          | 是   | [float]  |          |          |
| data>>briefIntro | 简介     | 是   | [string] |          |          |
| message          |          | 是   | [string] |          | success  |



#### **6 用户标记想看**

 

**接口信息**

接口名称:用户标记想看

接口路径:/favor/

请求协议:HTTP

请求方法:POST

接口使用状态:正在测试

 

**请求参数**

参数类型：Json

根类型: Object

| **参数名** | **说明** | **必填** | **类型** | **限制** | **示例**                         |
| ---------- | -------- | -------- | -------- | -------- | -------------------------------- |
| userId     |          | 是       | [string] |          | 303bebcb72d848d79604f3ea729af51e |
| movieId    |          | 是       | [string] |          | 23                               |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名** | **说明** |      | **类型** | **限制** | **示例** |
| ---------- | -------- | ---- | -------- | -------- | -------- |
| status     |          | 是   | [int]    |          | 200      |
| data       |          | 是   | [object] |          | {}       |
| message    |          | 是   | [string] |          | success  |



#### **7 用户取消想看**

 

**接口信息**

接口名称:用户取消想看

接口路径:/favor/

请求协议:HTTP

请求方法:DELETE

接口使用状态:正在测试

 

**请求参数**

参数类型：Json

根类型: Object

| **参数名** | **说明** | **必填** | **类型** | **限制** | **示例**                         |
| ---------- | -------- | -------- | -------- | -------- | -------------------------------- |
| userId     |          | 是       | [string] |          | 303bebcb72d848d79604f3ea729af51e |
| movieId    |          | 是       | [string] |          | 23                               |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名** | **说明** |      | **类型** | **限制** | **示例** |
| ---------- | -------- | ---- | -------- | -------- | -------- |
| status     |          | 是   | [int]    |          | 200      |
| data       | 空对象   | 是   | [object] |          | {}       |
| message    |          | 是   | [string] |          | success  |



#### **8 获取某部电影的标记想看人数**

 

**接口信息**

接口名称:获取某部电影的标记想看人数

接口路径:/favor/counter

请求协议:HTTP

请求方法:GET

接口使用状态:正在测试

 

**GET参数**

 

| **参数名** | **说明** | **必填** | **类型** | **限制** | **示例** |
| ---------- | -------- | -------- | -------- | -------- | -------- |
| movieId    | 电影id   | 是       | [string] |          |          |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名** | **说明** |      | **类型** | **限制** | **示例** |
| ---------- | -------- | ---- | -------- | -------- | -------- |
| status     |          | 是   | [int]    |          | 200      |
| data       |          | 是   | [object] |          |          |
| data>>sum  | 想看人数 | 是   | [number] |          | 60       |
| message    |          | 是   | [string] |          | success  |



#### **9 获取想看电影排行榜**

 

**接口信息**

接口名称:获取想看电影排行榜

接口路径:/favor/rank/top

请求协议:HTTP

请求方法:GET

接口使用状态:正在测试

 

**GET参数**

 

| **参数名** | **说明**      | **必填** | **类型** | **限制** | **示例** |
| ---------- | ------------- | -------- | -------- | -------- | -------- |
| quantity   | 排名前n的电影 | 是       | [number] |          | 10       |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名**                | **说明** |      | **类型** | **限制** | **示例**                                                     |
| ------------------------- | -------- | ---- | -------- | -------- | ------------------------------------------------------------ |
| status                    |          | 是   | [int]    |          | 200                                                          |
| data                      |          | 是   | [object] |          | {"rankList":[{"movieName":"复联4","favorNum":25},{"movieName":"复联3","favorNum":10}]} |
| data>>rankList            | 电影列表 | 是   | [array]  |          |                                                              |
| data>>rankList>>movieName | 电影名称 | 是   | [string] |          |                                                              |
| data>>rankList>>favorNum  | 想看人数 | 是   | [number] |          |                                                              |
| message                   |          | 是   | [string] |          | success                                                      |

 

**详细说明**

给予想看电影人数排序下的电影列表    返回整个影库对应的排序列表



#### **10 获取用户拥有的优惠券信息**

 

**接口信息**

接口名称:获取用户拥有的优惠券信息

接口路径:/coupon/list

请求协议:HTTP

请求方法:GET

接口使用状态:正在测试

 

**GET参数**

 

| **参数名** | **说明** | **必填** | **类型** | **限制** | **示例**                         |
| ---------- | -------- | -------- | -------- | -------- | -------------------------------- |
| userId     | 用户ID   | 是       | [string] |          | 303bebcb72d848d79604f3ea729af51e |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名**                  | **说明**                        |      | **类型** | **限制** | **示例**   |
| --------------------------- | ------------------------------- | ---- | -------- | -------- | ---------- |
| status                      |                                 | 是   | [int]    |          | 200        |
| data                        |                                 | 是   | [object] |          |            |
| data>>coupons               | 普通优惠券                      | 是   | [array]  |          |            |
| data>>coupons>>couponId     | 优惠券ID                        | 是   | [string] |          | 351648     |
| data>>coupons>>couponName   | 优惠券名称                      | 是   | [string] |          | 电影节优惠 |
| data>>coupons>>couponAmount | 满减金额                        | 是   | [number] |          | 4.00       |
| data>>coupons>>useCondtion  | 使用条件（满多少才能减）        | 是   | [number] |          | 50.0       |
| data>>coupons>>startDate    | 使用范围的起始日期              | 是   | [string] |          | 2019-04-05 |
| data>>coupons>>endDate      | 使用范围的结束日期              | 是   | [string] |          | 2019-05-05 |
| data>>coupons>>state        | 0--已失效；1--未使用；2--已使用 | 是   | [number] |          | 2          |
| data>>coupons>>type         | 0--普通优惠券，1--会员优惠券    | 是   | [number] |          | 1          |
| data>>coupons>>movies       | 适用电影的数组，里面存电影id    | 是   | [array]  |          |            |
| message                     |                                 | 是   | [string] |          | success    |

 

**详细说明**

获取用户拥有的优惠券信息（普通的和会员的【如果是会员的话】) —-返回可以使用的（失效的和用过的不要）



#### **11 用户添加优惠券(用户如何得到优惠券还没定下)**

 

**接口信息**

接口名称:用户添加优惠券(用户如何得到优惠券还没定下)

接口路径:/coupon

请求协议:HTTP

请求方法:POST

接口使用状态:已经弃用



#### **12 用户消耗优惠券**

 

**接口信息**

接口名称:用户消耗优惠券

接口路径:/coupon

请求协议:HTTP

请求方法:PUT

接口使用状态:正在测试

 

**请求参数**

参数类型：Json

根类型: Object

| **参数名** | **说明** | **必填** | **类型** | **限制** | **示例**                         |
| ---------- | -------- | -------- | -------- | -------- | -------------------------------- |
| userId     | 用户ID   | 是       | [string] |          | 303bebcb72d848d79604f3ea729af51e |
| couponId   | 优惠券ID | 是       | [string] |          | 31654                            |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名** | **说明** |      | **类型** | **限制** | **示例** |
| ---------- | -------- | ---- | -------- | -------- | -------- |
| status     |          | 是   | [int]    |          | 200      |
| data       |          | 是   | [object] |          |          |
| message    |          | 是   | [string] |          | success  |



#### **13 得到用户基本信息**

 

**接口信息**

接口名称:得到用户基本信息

接口路径:/user/basicInfo

请求协议:HTTP

请求方法:GET

接口使用状态:正在测试

 

**GET参数**

 

| **参数名** | **说明** | **必填** | **类型** | **限制** | **示例**                         |
| ---------- | -------- | -------- | -------- | -------- | -------------------------------- |
| id         | 用户ID   | 是       | [string] |          | 303bebcb72d848d79604f3ea729af51e |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名**     | **说明** |      | **类型** | **限制** | **示例** |
| -------------- | -------- | ---- | -------- | -------- | -------- |
| status         | 状态码   | 是   | [int]    |          | 200      |
| data           |          | 是   | [object] |          |          |
| data>>name     | 名字     | 是   | [string] |          |          |
| data>>pic      | 头像url  | 是   | [string] |          |          |
| data>>id       | 用户id   | 是   | [string] |          |          |
| data>>vip      | vip等级  | 是   | [int]    |          |          |
| data>>birthday | 生日     | 是   | [string] |          | 2011-1-1 |
| data>>sex      | 性别     | 是   | [int]    |          |          |
| message        | 状态说明 | 是   | [string] |          | success  |



#### **14 修改用户基本信息**

 

**接口信息**

接口名称:修改用户基本信息

接口路径:/user/basicInfo/modify

请求协议:HTTP

请求方法:PUT

接口使用状态:正在测试

 

**请求参数**

参数类型：Json

根类型: Object

| **参数名**     | **说明**   | **必填** | **类型** | **限制** | **示例** |
| -------------- | ---------- | -------- | -------- | -------- | -------- |
| id             | 用户id     | 是       | [string] |          |          |
| info           | 修改的信息 | 是       | [object] |          |          |
| info>>pic      | 头像url    | 是       | [string] |          |          |
| info>>name     |            | 是       | [string] |          |          |
| info>>sex      |            | 是       | [int]    |          |          |
| info>>birthday |            | 是       | [string] |          |          |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名** | **说明** |      | **类型** | **限制** | **示例** |
| ---------- | -------- | ---- | -------- | -------- | -------- |
| status     |          | 是   | [string] |          | 200      |
| message    |          | 是   | [string] |          | success  |



#### **15 给予用户新的vip卡（即购买会员卡）**

 

**接口信息**

接口名称:给予用户新的vip卡（即购买会员卡）

接口路径:/vip

请求协议:HTTP

请求方法:POST

接口使用状态:正在测试

 

**请求参数**

参数类型：Json

根类型: Object

| **参数名**  | **说明**       | **必填** | **类型** | **限制** | **示例**                         |
| ----------- | -------------- | -------- | -------- | -------- | -------------------------------- |
| userId      | 用户ID         | 是       | [string] |          | 303bebcb72d848d79604f3ea729af51e |
| cardBalance | 购买之后的余额 | 是       | [number] |          | 500.00                           |
| ownDate     | 购卡日期       | 是       | [string] |          | 2018-05-09                       |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名**      | **说明** |      | **类型** | **限制** | **示例**                         |
| --------------- | -------- | ---- | -------- | -------- | -------------------------------- |
| status          |          | 是   | [int]    |          | 200                              |
| data            |          | 是   | [object] |          |                                  |
| data>>VIPCardId | 会员卡id | 是   | [string] |          | 303bebcb72d848d79604f3ea729af51e |
| data>>VIPLevel  | 会员等级 | 是   | [string] |          | 青铜                             |
| message         |          | 是   | [string] |          | success                          |

 

**详细说明**

采用刘钦的方式，用银行卡在前端进行假验证，之后直接给后端发送购买之后的余额 对于会员等级，是根据累计充值金额来计算，分黄金、白银、青铜三个段



#### **16 得到用户vip卡信息**

 

**接口信息**

接口名称:得到用户vip卡信息

接口路径:/vip

请求协议:HTTP

请求方法:GET

接口使用状态:正在测试

 

**GET参数**

 

| **参数名** | **说明** | **必填** | **类型** | **限制** | **示例**                         |
| ---------- | -------- | -------- | -------- | -------- | -------------------------------- |
| userId     |          | 是       | [string] |          | 303bebcb72d848d79604f3ea729af51e |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名**           | **说明**   |      | **类型** | **限制** | **示例**         |
| -------------------- | ---------- | ---- | -------- | -------- | ---------------- |
| status               |            | 是   | [int]    |          | 200              |
| data                 |            | 是   | [object] |          |                  |
| data>>VIPCardId      | 会员卡的ID | 是   | [string] |          | 61616132184894   |
| data>>VIPCardBalance | 会员卡余额 | 是   | [number] |          | 500.00           |
| data>>VIPLevel       | 会员级别   | 是   | [string] |          | 黄金、白银、青铜 |
| data>>ownDate        | 购买日期   | 是   | [string] |          | 2019-05-09       |
| message              |            | 是   | [string] |          | success          |

 

**详细说明**

得到用户vip卡信息（用于会员页面）



#### **17 用户vip充值操作**

 

**接口信息**

接口名称:用户vip充值操作

接口路径:/vip/recharge

请求协议:HTTP

请求方法:PUT

接口使用状态:正在测试

 

**请求参数**

参数类型：Json

根类型: Object

| **参数名**     | **说明**   | **必填** | **类型** | **限制** | **示例**         |
| -------------- | ---------- | -------- | -------- | -------- | ---------------- |
| rechargeAmount | 充值的金额 | 是       | [number] |          | 100.00           |
| VIPCardId      | 会员卡ID   | 是       | [string] |          | 651616336189     |
| rechargeTime   | 充值时间   | 是       | [string] |          | 2019-05-09 21:00 |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名** | **说明** |      | **类型** | **限制** | **示例** |
| ---------- | -------- | ---- | -------- | -------- | -------- |
| status     |          | 是   | [int]    |          | 200      |
| data       |          | 是   | [object] |          |          |
| message    |          | 是   | [string] |          | success  |

 

**详细说明**

银行卡假验证充值



#### **18 用户进行消费，扣除一定余额**

 

**接口信息**

接口名称:用户进行消费，扣除一定余额

接口路径:/order/consume

请求协议:HTTP

请求方法:PUT

接口使用状态:正在测试

 

**请求参数**

参数类型：Json

根类型: Object

| **参数名**  | **说明** | **必填** | **类型** | **限制** | **示例**                         |
| ----------- | -------- | -------- | -------- | -------- | -------------------------------- |
| userId      | 用户ID   | 是       | [string] |          | 303bebcb72d848d79604f3ea729af51e |
| consumption | 消费金额 | 是       | [number] |          | 46.00                            |
| orderId     | 订单ID   | 是       | [string] |          |                                  |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名**        | **说明**   |      | **类型** | **限制** | **示例** |
| ----------------- | ---------- | ---- | -------- | -------- | -------- |
| status            |            | 是   | [int]    |          | 200      |
| data              |            | 是   | [object] |          |          |
| data>>cardBalance | 会员卡余额 | 是   | [number] |          | 360.00   |
| message           |            | 是   | [string] |          | success  |

 

**详细说明**

如果没有expense , 那么就是银行卡消费，只进行订单状态变化如果有，那么就是会员卡消费



#### **19 获取用户历史充值记录**

 

**接口信息**

接口名称:获取用户历史充值记录

接口路径:/vip/history/list

请求协议:HTTP

请求方法:GET

接口使用状态:正在测试

 

**GET参数**

 

| **参数名** | **说明** | **必填** | **类型** | **限制** | **示例**                  |
| ---------- | -------- | -------- | -------- | -------- | ------------------------- |
| userId     | 用户ID   | 是       | [string] |          | 303bebcb72d848d79604f3ea7 |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名**                 | **说明**                 |      | **类型** | **限制** | **示例**         |
| -------------------------- | ------------------------ | ---- | -------- | -------- | ---------------- |
| status                     |                          | 是   | [int]    |          | 200              |
| data                       | 充值记录列表对象         | 是   | [object] |          |                  |
| data>>rechargeList         | 充值记录列表（时间顺序） | 是   | [array]  |          |                  |
| data>>rechargeList>>time   | 充值时间                 | 是   | [string] |          | 2019-05-09 19:00 |
| data>>rechargeList>>amount | 充值金额                 | 是   | [number] |          | 100.00           |
| message                    |                          | 是   | [string] |          | success          |



#### **20 获取管理员的角色列表**

 

**接口信息**

接口名称:获取管理员的角色列表

接口路径:/admin/list

请求协议:HTTP

请求方法:GET

接口使用状态:正在测试

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名**       | **说明**         |      | **类型** | **限制** | **示例** |
| ---------------- | ---------------- | ---- | -------- | -------- | -------- |
| status           |                  | 是   | [int]    |          |          |
| data             |                  | 是   | [object] |          |          |
| data>>list       |                  | 是   | [array]  |          |          |
| data>>list>>id   | 用户id           | 是   | [string] |          |          |
| data>>list>>name | 管理人员真实姓名 | 是   | [string] |          |          |
| message          | 状态说明         | 是   | [string] |          | success  |



#### **21 添加管理员权限**

 

**接口信息**

接口名称:添加管理员权限

接口路径:/admin

请求协议:HTTP

请求方法:POST

接口使用状态:正在测试

 

**请求参数**

参数类型：Json

根类型: Object

| **参数名** | **说明** | **必填** | **类型** | **限制** | **示例** |
| ---------- | -------- | -------- | -------- | -------- | -------- |
| userId     |          | 是       | [string] |          |          |
| name       | 真实姓名 | 是       | [string] |          |          |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名** | **说明** |      | **类型** | **限制** | **示例** |
| ---------- | -------- | ---- | -------- | -------- | -------- |
| status     |          | 是   | [int]    |          | 200      |
| data       |          | 是   | [object] |          |          |
| message    |          | 是   | [string] |          | success  |



#### **22 修改管理员权限**

 

**接口信息**

接口名称:修改管理员权限

接口路径:/admin

请求协议:HTTP

请求方法:PUT

接口使用状态:正在测试

 

**请求参数**

参数类型：Json

根类型: Object

| **参数名**   | **说明**   | **必填** | **类型** | **限制** | **示例**                   |
| ------------ | ---------- | -------- | -------- | -------- | -------------------------- |
| data         |            | 是       | [object] |          |                            |
| info         | 修改的信息 | 是       | [object] |          |                            |
| info>>roleID | 角色       | 是       | [string] |          | 0:经理 1:管理员 2:普通观众 |
| info>>name   | 真实姓名   | 是       | [string] |          |                            |
| info>>userID | 用户id     | 是       | [string] |          |                            |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名** | **说明** |      | **类型** | **限制** | **示例** |
| ---------- | -------- | ---- | -------- | -------- | -------- |
| status     |          | 是   | [int]    |          | 200      |
| message    |          | 是   | [string] |          | success  |



#### **23 删除管理员权限**

 

**接口信息**

接口名称:删除管理员权限

接口路径:/admin

请求协议:HTTP

请求方法:DELETE

接口使用状态:正在测试

 

**请求参数**

参数类型：Json

根类型: Object

| **参数名** | **说明** | **必填** | **类型** | **限制** | **示例** |
| ---------- | -------- | -------- | -------- | -------- | -------- |
| userId     |          | 是       | [string] |          |          |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名** | **说明** |      | **类型** | **限制** | **示例** |
| ---------- | -------- | ---- | -------- | -------- | -------- |
| status     |          | 是   | [int]    |          | 200      |
| data       |          | 是   | [object] |          |          |
| message    |          | 是   | [string] |          | success  |



#### **24 获取优惠策略列表**

 

**接口信息**

接口名称:获取优惠策略列表

接口路径:/coupon/strategy/list

请求协议:HTTP

请求方法:GET

接口使用状态:正在测试

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名**           | **说明**                   |      | **类型** | **限制** | **示例** |
| -------------------- | -------------------------- | ---- | -------- | -------- | -------- |
| status               |                            | 是   | [int]    |          | 200      |
| data                 |                            | 是   | [array]  |          |          |
| data>>movies         | 参与该优惠的电影列表id     | 是   | [array]  |          |          |
| data>>couponNumber   | 优惠券张数                 | 是   | [number] |          |          |
| data>>conditionPrice | 使用优惠券至少要达到的金额 | 是   | [number] |          |          |
| data>>discountPrice  | 减免金额                   | 是   | [number] |          |          |
| data>>startDate      | 开始日期                   | 是   | [string] |          |          |
| data>>endDate        |                            | 是   | [string] |          |          |
| data>>couponName     | 优惠券名称                 | 是   | [string] |          |          |
| data>>couponID       | 优惠券ID                   | 是   | [object] |          |          |
| message              |                            | 是   | [string] |          | success  |



#### **25 添加优惠策略**

 

**接口信息**

接口名称:添加优惠策略

接口路径:/coupon/strategy

请求协议:HTTP

请求方法:POST

接口使用状态:正在测试

 

**请求参数**

参数类型：Json

根类型: Object

| **参数名**     | **说明**                                   | **必填** | **类型** | **限制** | **示例** |
| -------------- | ------------------------------------------ | -------- | -------- | -------- | -------- |
| movies         | 参与优惠的电影列表id, 如果是空，为[]       | 是       | [array]  |          |          |
| couponNumber   | 优惠券张数                                 | 是       | [number] |          |          |
| conditionPrice | 至少达到多少钱可使用优惠券至少要达到的金额 | 是       | [number] |          |          |
| discountPrice  | 优惠金额                                   | 是       | [number] |          |          |
| endDate        | yyyy-MM-dd                                 | 是       | [string] |          |          |
| startDate      |                                            | 是       | [string] |          |          |
| couponName     | 优惠券名称                                 | 是       | [string] |          |          |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名**     | **说明**   |      | **类型** | **限制** | **示例** |
| -------------- | ---------- | ---- | -------- | -------- | -------- |
| status         |            | 是   | [int]    |          | 200      |
| data           |            | 是   | [object] |          |          |
| data>>couponId | 优惠策略id | 是   | [string] |          |          |
| message        |            | 是   | [string] |          | success  |



#### **26 修改优惠策略**

 

**接口信息**

接口名称:修改优惠策略

接口路径:/coupon/strategy

请求协议:HTTP

请求方法:PUT

接口使用状态:正在测试

 

**请求参数**

参数类型：Json

根类型: Object

| **参数名**     | **说明**                                   | **必填** | **类型** | **限制** | **示例** |
| -------------- | ------------------------------------------ | -------- | -------- | -------- | -------- |
| couponId       | 优惠券id                                   | 是       | [string] |          |          |
| couponName     | 优惠券名称                                 | 是       | [string] |          |          |
| startDate      | yyyy-mm-dd                                 | 是       | [string] |          |          |
| endDate        | yyyy-mm-dd                                 | 是       | [string] |          |          |
| discountPrice  | 优惠金额                                   | 是       | [number] |          |          |
| conditionPrice | 至少达到多少钱可使用优惠券至少要达到的金额 | 是       | [number] |          |          |
| couponNumber   | 优惠券张数                                 | 是       | [number] |          |          |
| movies         | 参与优惠的电影列表id, 如果是空，为[]       | 是       | [array]  |          |          |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名** | **说明** |      | **类型** | **限制** | **示例** |
| ---------- | -------- | ---- | -------- | -------- | -------- |
| status     |          | 是   | [int]    |          | 200      |
| data       |          | 是   | [object] |          |          |
| message    |          | 是   | [string] |          | success  |



#### **27 删除优惠策略**

 

**接口信息**

接口名称:删除优惠策略

接口路径:/coupon/strategy

请求协议:HTTP

请求方法:DELETE

接口使用状态:正在测试

 

**请求参数**

参数类型：Json

根类型: Object

| **参数名** | **说明** | **必填** | **类型** | **限制** | **示例** |
| ---------- | -------- | -------- | -------- | -------- | -------- |
| couponId   |          | 是       | [string] |          |          |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名** | **说明** |      | **类型** | **限制** | **示例** |
| ---------- | -------- | ---- | -------- | -------- | -------- |
| status     |          | 是   | [int]    |          | 200      |
| data       |          | 是   | [object] |          |          |
| message    |          | 是   | [string] |          | success  |



#### **28 返回用户是否会员的信息(可以根据返回会员卡信息是否为空判定)**

 

**接口信息**

接口名称:返回用户是否会员的信息(可以根据返回会员卡信息是否为空判定)

接口路径:/isVIP

请求协议:HTTP

请求方法:GET

接口使用状态:已经弃用

 

**GET参数**

 

| **参数名** | **说明** | **必填** | **类型** | **限制** | **示例**                         |
| ---------- | -------- | -------- | -------- | -------- | -------------------------------- |
| userId     | 用户ID   | 是       | [string] |          | 303bebcb72d848d79604f3ea729af51e |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名**  | **说明** |      | **类型**  | **限制** | **示例** |
| ----------- | -------- | ---- | --------- | -------- | -------- |
| status      |          | 是   | [int]     |          | 200      |
| data        |          | 是   | [object]  |          |          |
| data>>isVIP | 是否会员 | 是   | [boolean] |          | true     |
| message     |          | 是   | [string]  |          | success  |

 

**详细说明**

用于主页的获取会员信息（前端对VIP标志的颜色改变）



#### **29 获取电影详情**

 

**接口信息**

接口名称:获取电影详情

接口路径:/movie/detail/basicInfo

请求协议:HTTP

请求方法:GET

接口使用状态:正在测试

 

**GET参数**

 

| **参数名** | **说明** | **必填** | **类型** | **限制** | **示例** |
| ---------- | -------- | -------- | -------- | -------- | -------- |
| movieId    |          | 是       | [string] |          |          |
| userId     |          | 是       | [string] |          |          |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名**                           | **说明**               |      | **类型**  | **限制** | **示例** |
| ------------------------------------ | ---------------------- | ---- | --------- | -------- | -------- |
| status                               |                        | 是   | [string]  |          | 200      |
| data                                 |                        | 是   | [object]  |          |          |
| data>>name                           |                        | 是   | [string]  |          |          |
| data>>pic                            | 横板海报url            | 是   | [string]  |          |          |
| data>>video                          | url                    | 是   | [string]  |          |          |
| data>>score                          | 1-5                    | 是   | [int]     |          |          |
| data>>inFavorList                    | 用户是否已标记喜爱     | 是   | [boolean] |          |          |
| data>>favorNum                       | 标记喜爱的人数         | 是   | [int]     |          |          |
| data>>briefIntro                     | 简介                   | 是   | [string]  |          |          |
| data>>basicInfo                      |                        | 是   | [object]  |          |          |
| data>>basicInfo>>ChineseName         |                        | 是   | [string]  |          |          |
| data>>basicInfo>>EnglishName         |                        | 是   | [string]  |          |          |
| data>>basicInfo>>productionCompany   | 出品公司               | 是   | [string]  |          |          |
| data>>basicInfo>>distributionCompany | 发行公司               | 是   | [string]  |          |          |
| data>>basicInfo>>location            | 拍摄地点               | 是   | [string]  |          |          |
| data>>basicInfo>>director            |                        | 是   | [string]  |          |          |
| data>>basicInfo>>type                |                        | 是   | [string]  |          |          |
| data>>basicInfo>>duration            | 时长（分钟）           | 是   | [int]     |          |          |
| data>>basicInfo>>showTime            | 上映时间               | 是   | [date]    |          |          |
| data>>basicInfo>>hierachical         | 分级                   | 是   | [string]  |          | PG-13    |
| data>>basicInfo>>language            |                        | 是   | [string]  |          |          |
| data>>basicInfo>>imdb                | imdb的id               | 是   | [string]  |          |          |
| data>>basicInfo>>pic                 | 竖版海报（小图呈现的） | 是   | [string]  |          |          |
| message                              |                        | 是   | [string]  |          | success  |



#### **30 获取电影演职员表**

 

**接口信息**

接口名称:获取电影演职员表

接口路径:/movie/detail/staff

请求协议:HTTP

请求方法:GET

接口使用状态:正在测试

 

**GET参数**

 

| **参数名** | **说明** | **必填** | **类型** | **限制** | **示例** |
| ---------- | -------- | -------- | -------- | -------- | -------- |
| movieId    |          | 是       | [string] |          |          |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名**               | **说明** |      | **类型** | **限制** | **示例** |
| ------------------------ | -------- | ---- | -------- | -------- | -------- |
| status                   |          | 是   | [number] |          | 200      |
| data                     |          | 是   | [object] |          |          |
| data>>directorList       |          | 是   | [array]  |          |          |
| data>>directorList>>name |          | 是   | [string] |          | 昆汀     |
| data>>directorList>>pic  |          | 是   | [string] |          |          |
| data>>actorList          |          | 是   | [array]  |          |          |
| data>>actorList>>name    | 真名     | 是   | [string] |          |          |
| data>>actorList>>pic     |          | 是   | [string] |          |          |
| data>>actorList>>role    | 角色     | 是   | [string] |          |          |
| message                  |          | 是   | [string] |          | success  |



#### **31 获取电影剧照和视频**

 

**接口信息**

接口名称:获取电影剧照和视频

接口路径:/movie/detail/photo

请求协议:HTTP

请求方法:GET

接口使用状态:正在测试

 

**GET参数**

 

| **参数名** | **说明** | **必填** | **类型** | **限制** | **示例** |
| ---------- | -------- | -------- | -------- | -------- | -------- |
| movieId    |          | 是       | [string] |          |          |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名**       | **说明** |      | **类型** | **限制** | **示例** |
| ---------------- | -------- | ---- | -------- | -------- | -------- |
| status           |          | 是   | [string] |          |          |
| data             |          | 是   | [object] |          |          |
| data>>photo      |          | 是   | [array]  |          |          |
| data>>photo>>url |          | 是   | [string] |          |          |
| data>>video      |          | 是   | [array]  |          |          |
| data>>video>>url |          | 是   | [string] |          |          |
| message          |          | 是   | [string] |          |          |



#### **32 获取电影票房信息**

 

**接口信息**

接口名称:获取电影票房信息

接口路径:/movie/detail/boxoffice

请求协议:HTTP

请求方法:GET

接口使用状态:已经弃用

 

**GET参数**

 

| **参数名** | **说明** | **必填** | **类型** | **限制** | **示例** |
| ---------- | -------- | -------- | -------- | -------- | -------- |
| moiveId    |          | 是       | [string] |          |          |



#### **33 退出登录**

 

**接口信息**

接口名称:退出登录

接口路径:localhost:18080/user/logout

请求协议:HTTP

请求方法:DELETE

接口使用状态:正在测试

 

**GET参数**

 

| **参数名** | **说明** | **必填** | **类型** | **限制** | **示例** |
| ---------- | -------- | -------- | -------- | -------- | -------- |
| userId     |          | 是       | [string] |          |          |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名** | **说明** |      | **类型** | **限制** | **示例** |
| ---------- | -------- | ---- | -------- | -------- | -------- |
| status     |          | 是   | [string] |          | 200      |
| message    |          | 是   | [string] |          | success  |



#### **34 用户获取个人订单列表**

 

**接口信息**

接口名称:用户获取个人订单列表

接口路径:/order/history

请求协议:HTTP

请求方法:GET

接口使用状态:正在测试

 

**GET参数**

 

| **参数名** | **说明** | **必填** | **类型** | **限制** | **示例**       |
| ---------- | -------- | -------- | -------- | -------- | -------------- |
| userId     | 用户id   | 是       | [string] |          | 56d6ae189ea165 |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名**                                  | **说明**                       |      | **类型**  | **限制** | **示例**                                                     |
| ------------------------------------------- | ------------------------------ | ---- | --------- | -------- | ------------------------------------------------------------ |
| data                                        |                                | 是   | [object]  |          |                                                              |
| data>>orderList                             | 订单列表                       | 是   | [array]   |          |                                                              |
| data>>orderList>>tickets                    |                                | 是   | [array]   |          |                                                              |
| data>>orderList>>tickets>>ticketId          |                                | 是   | [string]  |          | 995df3f7f68141399e5fd32a607d7453                             |
| data>>orderList>>tickets>>slotId            |                                | 是   | [string]  |          | 111                                                          |
| data>>orderList>>tickets>>row               | 行数                           | 是   | [number]  |          | 2                                                            |
| data>>orderList>>tickets>>col               | 列数                           | 是   | [number]  |          | 2                                                            |
| data>>orderList>>tickets>>orderId           |                                | 是   | [string]  |          | 28f68d1ba3c24221b51d6e7e2b0b0680                             |
| data>>orderList>>movie                      |                                | 是   | [object]  |          |                                                              |
| data>>orderList>>movie>>movieId             |                                | 是   | [string]  |          | 11237                                                        |
| data>>orderList>>movie>>name                |                                | 是   | [string]  |          | 阿飞正传                                                     |
| data>>orderList>>movie>>nameEn              |                                | 是   | [string]  |          | English Name                                                 |
| data>>orderList>>movie>>downDate            |                                | 是   | [string]  |          | 2019-06-13                                                   |
| data>>orderList>>movie>>uploadDate          |                                | 是   | [string]  |          | 2019-06-12                                                   |
| data>>orderList>>movie>>score               |                                | 是   | [number]  |          | 8.8                                                          |
| data>>orderList>>movie>>timeLength          |                                | 是   | [number]  |          | 94                                                           |
| data>>orderList>>movie>>poster              |                                | 是   | [string]  |          | https://p0.meituan.net/movie/885fc379c614a2b4175587b95ac98eb95045650.jpg@464w_644h_1e_1c |
| data>>orderList>>movie>>stills              |                                | 是   | [string]  |          | 1                                                            |
| data>>orderList>>movie>>video               |                                | 是   | [string]  |          | 1                                                            |
| data>>orderList>>movie>>videoList           |                                | 是   | [string]  |          | 1                                                            |
| data>>orderList>>movie>>category            |                                | 是   | [string]  |          | 剧情,爱情,犯罪                                               |
| data>>orderList>>movie>>nation              |                                | 是   | [string]  |          | 中国香港                                                     |
| data>>orderList>>movie>>lang                |                                | 是   | [string]  |          | 中文                                                         |
| data>>orderList>>movie>>briefIntro          |                                | 是   | [string]  |          | 阿飞正传真好看！                                             |
| data>>orderList>>movie>>hierarchical        |                                | 是   | [string]  |          | R18                                                          |
| data>>orderList>>movie>>imdb                |                                | 是   | [string]  |          | 888888                                                       |
| data>>orderList>>movie>>productionCompany   |                                | 是   | [string]  |          | 华纳兄弟娱乐公司                                             |
| data>>orderList>>movie>>distributionCompany |                                | 是   | [string]  |          | 华纳兄弟娱乐公司                                             |
| data>>orderList>>movie>>state               |                                | 是   | [number]  |          | 0                                                            |
| data>>orderList>>movie>>hposter             |                                | 是   | [string]  |          | 1                                                            |
| data>>orderList>>hall                       |                                | 是   | [object]  |          |                                                              |
| data>>orderList>>hall>>hallId               |                                | 是   | [string]  |          | 12                                                           |
| data>>orderList>>hall>>name                 |                                | 是   | [string]  |          | MCA                                                          |
| data>>orderList>>hall>>row                  |                                | 是   | [number]  |          | 10                                                           |
| data>>orderList>>hall>>col                  |                                | 是   | [number]  |          | 10                                                           |
| data>>orderList>>hall>>category             |                                | 是   | [string]  |          | 亲子厅                                                       |
| data>>orderList>>hall>>state                |                                | 是   | [boolean] |          | false                                                        |
| data>>orderList>>slot                       |                                | 是   | [object]  |          |                                                              |
| data>>orderList>>slot>>slotId               |                                | 是   | [string]  |          | 111                                                          |
| data>>orderList>>slot>>startTime            |                                | 是   | [string]  |          | 2019-06-13T03:05:10.000+0000                                 |
| data>>orderList>>slot>>endTime              |                                | 是   | [string]  |          | 2019-06-14T03:05:21.000+0000                                 |
| data>>orderList>>slot>>movieId              |                                | 是   | [string]  |          | 11237                                                        |
| data>>orderList>>slot>>ticketPrize          |                                | 是   | [number]  |          | 998                                                          |
| data>>orderList>>slot>>hallId               |                                | 是   | [string]  |          | 12                                                           |
| data>>orderList>>slot>>property             |                                | 是   | [string]  |          | fuck                                                         |
| data>>orderList>>order                      |                                | 是   | [object]  |          |                                                              |
| data>>orderList>>order>>orderId             |                                | 是   | [string]  |          | 28f68d1ba3c24221b51d6e7e2b0b0680                             |
| data>>orderList>>order>>userId              |                                | 是   | [string]  |          | dc3fb1eb6dd54c1dbed9769e5aa47219                             |
| data>>orderList>>order>>confirmDate         |                                | 是   | [string]  |          | 2019-06-03T14:31:46.000+0000                                 |
| data>>orderList>>order>>expense             |                                | 是   | [number]  |          | 0                                                            |
| data>>orderList>>order>>state               | 0 已支付；1 已取消 ； 2 未支付 | 是   | [number]  |          | 2                                                            |
| message                                     |                                | 是   | [string]  |          | success                                                      |
| status                                      |                                | 是   | [number]  |          | 200                                                          |



#### **35 获取会员策略**

 

**接口信息**

接口名称:获取会员策略

接口路径:/vip/strategy

请求协议:HTTP

请求方法:GET

接口使用状态:正在测试

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名**          | **说明** |      | **类型** | **限制** | **示例** |
| ------------------- | -------- | ---- | -------- | -------- | -------- |
| data                |          | 是   | [array]  |          |          |
| data>>rechargePrice |          | 是   | [number] |          | 3        |
| data>>rankName      |          | 是   | [string] |          | as       |
| data>>rank          |          | 是   | [string] |          | asd      |
| data>>discount      |          | 是   | [number] |          | 32       |
| message             |          | 是   | [string] |          | success  |
| status              |          | 是   | [number] |          | 200      |



#### **36 修改会员策略; 多个rank修改**

 

**接口信息**

接口名称:修改会员策略; 多个rank修改

接口路径:/vip/strategy

请求协议:HTTP

请求方法:PUT

接口使用状态:正在测试

 

**请求参数**

参数类型：Json

根类型: Object

| **参数名**             | **说明**                                    | **必填** | **类型** | **限制** | **示例** |
| ---------------------- | ------------------------------------------- | -------- | -------- | -------- | -------- |
| vipRank                |                                             | 是       | [array]  |          |          |
| vipRank>>rechargePrice |                                             | 是       | [number] |          | 3        |
| vipRank>>rankName      |                                             | 是       | [string] |          | as       |
| vipRank>>rank          |                                             | 是       | [string] |          | asd      |
| vipRank>>discount      |                                             | 是       | [number] |          | 32       |
| vipRank>>id            | 如果不存在，就是添加操作;如果存在，就是修改 | 是       | [string] |          |          |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名** | **说明** |      | **类型** | **限制** | **示例** |
| ---------- | -------- | ---- | -------- | -------- | -------- |
| data       |          | 是   | [object] |          |          |
| message    |          | 是   | [string] |          | success  |
| status     | 状态码   | 是   | [number] |          | 200      |

 

**数据结构**



#### **37 获取影厅信息**

 

**接口信息**

接口名称:获取影厅信息

接口路径:/hall/strategy/list

请求协议:HTTP

请求方法:GET

接口使用状态:正在测试

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名**   | **说明**   |      | **类型** | **限制** | **示例**          |
| ------------ | ---------- | ---- | -------- | -------- | ----------------- |
| data         |            | 是   | [array]  |          |                   |
| data>>name   |            | 是   | [string] |          |                   |
| data>>hallId | 影厅id     | 是   | [string] |          |                   |
| data>>state  | 影厅的状态 | 是   | [number] |          | 0:可以用 1:不可用 |
| data>>size   | 影厅的大小 | 是   | [string] |          |                   |
| data>>type   | 影厅的规格 | 是   | [string] |          | 3D IMAX           |
| message      |            | 是   | [string] |          | success           |
| status       | 状态码     | 是   | [number] |          | 200               |



#### **38 修改影厅信息**

 

**接口信息**

接口名称:修改影厅信息

接口路径:/hall/strategy

请求协议:HTTP

请求方法:PUT

接口使用状态:正在测试

 

**请求参数**

参数类型：Json

根类型: Object

| **参数名** | **说明**             | **必填** | **类型** | **限制** | **示例** |
| ---------- | -------------------- | -------- | -------- | -------- | -------- |
| hallId     | 影厅id               | 是       | [string] |          |          |
| state      | 0: 可用 ， 1：不可用 | 是       | [object] |          |          |
| name       | 影厅名称             | 是       | [object] |          |          |
| size       | m,n                  | 是       | [string] |          | 3,4      |
| category   | 类型                 | 是       | [string] |          |          |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名** | **说明** |      | **类型** | **限制** | **示例** |
| ---------- | -------- | ---- | -------- | -------- | -------- |
| data       |          | 是   | [object] |          |          |
| message    |          | 是   | [string] |          | success  |
| status     | 状态码   | 是   | [number] |          | 200      |

 

**数据结构**



#### **39 购买流程中确认订单**

 

**接口信息**

接口名称:购买流程中确认订单

接口路径:/order/confirm

请求协议:HTTP

请求方法:POST

接口使用状态:正在测试

 

**请求参数**

参数类型：Json

根类型: Object

| **参数名**  | **说明** | **必填** | **类型** | **限制** | **示例**            |
| ----------- | -------- | -------- | -------- | -------- | ------------------- |
| userId      | 用户id   | 是       | [string] |          |                     |
| scheduleId  | 排片ID   | 是       | [string] |          |                     |
| confirmTime | 下单时间 | 是       | [string] |          | 2019-05-05 14:00:00 |
| seats       | 座位列表 | 是       | [array]  |          | ["3,3","4,4"]       |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名**    | **说明** |      | **类型** | **限制** | **示例** |
| ------------- | -------- | ---- | -------- | -------- | -------- |
| data          |          | 是   | [object] |          |          |
| data>>orderId | 订单ID   | 是   | [string] |          |          |
| message       |          | 是   | [string] |          | success  |
| status        | 状态码   | 是   | [number] |          | 200      |



#### **40 获取退票策略**

 

**接口信息**

接口名称:获取退票策略

接口路径:/refund/strategy/list

请求协议:HTTP

请求方法:GET

接口使用状态:正在测试

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名** | **说明**               |      | **类型** | **限制** | **示例** |
| ---------- | ---------------------- | ---- | -------- | -------- | -------- |
| data       |                        | 是   | [array]  |          |          |
| data>>time | 距离开场时间           | 是   | [number] |          | min      |
| data>>rate | 退还总票价的百分之多少 | 是   | [number] |          | 0.8      |
| data>>id   |                        | 是   | [string] |          |          |
| message    |                        | 是   | [string] |          | success  |
| status     | 状态码                 | 是   | [number] |          | 200      |



#### **41 修改退票策略**

 

**接口信息**

接口名称:修改退票策略

接口路径:/refund/strategy

请求协议:HTTP

请求方法:PUT

接口使用状态:正在测试

 

**请求参数**

参数类型：Json

根类型: Object

| **参数名** | **说明**                 | **必填** | **类型** | **限制** | **示例** |
| ---------- | ------------------------ | -------- | -------- | -------- | -------- |
| id         | 对应的退票策略id         | 是       | [string] |          |          |
| rate       | 退还总票价的百分之多少   | 是       | [number] |          |          |
| time       | 距离开场时间(单位 ：min) | 是       | [number] |          |          |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名** | **说明** |      | **类型** | **限制** | **示例** |
| ---------- | -------- | ---- | -------- | -------- | -------- |
| data       |          | 是   | [object] |          |          |
| message    |          | 是   | [string] |          | success  |
| status     | 状态码   | 是   | [number] |          | 200      |

 

**数据结构**



#### **42 购买流程中的支付订单**

 

**接口信息**

接口名称:购买流程中的支付订单

接口路径:/order/pay

请求协议:HTTP

请求方法:POST

接口使用状态:已经弃用

 

**请求参数**

参数类型：Json

根类型: Object

| **参数名** | **说明** | **必填** | **类型** | **限制** | **示例** |
| ---------- | -------- | -------- | -------- | -------- | -------- |
| userId     | 用户ID   | 是       | [string] |          |          |
| orderId    | 订单ID   | 是       | [string] |          |          |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名** | **说明** |      | **类型** | **限制** | **示例** |
| ---------- | -------- | ---- | -------- | -------- | -------- |
| data       |          | 是   | [object] |          |          |
| message    |          | 是   | [string] |          | success  |
| status     | 状态码   | 是   | [number] |          | 200      |



#### **43 获取用户的想看电影列表**

 

**接口信息**

接口名称:获取用户的想看电影列表

接口路径:/favor/user/list

请求协议:HTTP

请求方法:GET

接口使用状态:正在测试

 

**GET参数**

 

| **参数名** | **说明** | **必填** | **类型** | **限制** | **示例** |
| ---------- | -------- | -------- | -------- | -------- | -------- |
| userId     | 用户ID   | 是       | [string] |          |          |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名**                   | **说明**          |      | **类型** | **限制** | **示例** |
| ---------------------------- | ----------------- | ---- | -------- | -------- | -------- |
| data                         |                   | 是   | [object] |          |          |
| data>>favorList              |                   | 是   | [array]  |          |          |
| data>>favorList>>movieId     | 电影id            | 是   | [string] |          |          |
| data>>favorList>>movieName   | 电影名称          | 是   | [string] |          |          |
| data>>favorList>>releaseDate | 上映日期          | 是   | [string] |          |          |
| data>>favorList>>imgURL      | 电影竖版海报的URL | 是   | [string] |          |          |
| data>>favorList>>mainActor   | 主演              | 是   | [array]  |          |          |
| data>>favorList>>releaseArea | 上映地点          | 是   | [string] |          |          |
| message                      |                   | 是   | [string] |          | success  |
| status                       | 状态码            | 是   | [number] |          | 200      |



#### **44 获取所有电影票房**

 

**接口信息**

接口名称:获取所有电影票房

接口路径:/movie/statistic/liked

请求协议:HTTP

请求方法:GET

接口使用状态:待定状态

 

**GET参数**

 

| **参数名** | **说明** | **必填** | **类型** | **限制** | **示例** |
| ---------- | -------- | -------- | -------- | -------- | -------- |
| movieId    |          | 是       | [string] |          |          |
| startDate  |          | 是       | [date]   |          |          |
| endDate    |          | 是       | [date]   |          |          |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名**      | **说明**                                              |      | **类型** | **限制** | **示例** |
| --------------- | ----------------------------------------------------- | ---- | -------- | -------- | -------- |
| status          |                                                       | 是   | [string] |          |          |
| data            |                                                       | 是   | [array]  |          |          |
| data>>date      | 日期                                                  | 是   | [string] |          |          |
| data>>boxOffice | 当日影片票房=∑【当日该影片每场观影人数*当日该场票价】 | 是   | [double] |          |          |
| message         |                                                       | 是   | [string] |          |          |



#### **45 获取某电影上座率**

 

**接口信息**

接口名称:获取某电影上座率

接口路径:/movie/statistic/occupancy

请求协议:HTTP

请求方法:GET

接口使用状态:正在开发

 

**GET参数**

 

| **参数名** | **说明** | **必填** | **类型** | **限制** | **示例** |
| ---------- | -------- | -------- | -------- | -------- | -------- |
| movieId    |          | 是       | [string] |          |          |
| startDate  |          | 是       | [date]   |          |          |
| endDate    |          | 是       | [date]   |          |          |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名**      | **说明**                                                     |      | **类型** | **限制** | **示例** |
| --------------- | ------------------------------------------------------------ | ---- | -------- | -------- | -------- |
| status          |                                                              | 是   | [string] |          |          |
| data            | list，按照给的时间顺序                                       | 是   | [array]  |          |          |
| data>>occupancy | 当日某影片上座率=当日该影片观影人数/∑【当日每场电影放映场次*每场所在影厅的座位数 | 是   | [double] |          |          |
| message         |                                                              | 是   | [string] |          |          |



#### **46 获取所有电影客单价**

 

**接口信息**

接口名称:获取所有电影客单价

接口路径:/movie/statistic/price

请求协议:HTTP

请求方法:GET

接口使用状态:正在开发

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名**  | **说明**                    |      | **类型** | **限制** | **示例** |
| ----------- | --------------------------- | ---- | -------- | -------- | -------- |
| status      |                             | 是   | [string] |          |          |
| data        |                             | 是   | [array]  |          |          |
| data>>name  |                             | 是   | [string] |          |          |
| data>>price | 观众购票所花总金额/购票次数 | 是   | [double] |          |          |
| message     |                             | 是   | [string] |          |          |



#### **47 获取电影排片率**

 

**接口信息**

接口名称:获取电影排片率

接口路径:/movie/statistic/scheduleRate

请求协议:HTTP

请求方法:GET

接口使用状态:正在开发

 

**GET参数**

 

| **参数名** | **说明** | **必填** | **类型** | **限制** | **示例** |
| ---------- | -------- | -------- | -------- | -------- | -------- |
| movieId    |          | 是       | [string] |          |          |
| startDate  |          | 是       | [date]   |          |          |
| endDate    |          | 是       | [date]   |          |          |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名** | **说明**                                                     |      | **类型** | **限制** | **示例** |
| ---------- | ------------------------------------------------------------ | ---- | -------- | -------- | -------- |
| status     |                                                              | 是   | [string] |          |          |
| data       | list,按照日期先后排序                                        | 是   | [array]  |          |          |
| data>>rate | 当日某影片排片率=当日该影片放映场数/当日所有电影的总放映场数 | 是   | [double] |          |          |
| message    |                                                              | 是   | [string] |          |          |



#### **48 添加排片信息**

 

**接口信息**

接口名称:添加排片信息

接口路径:/schedule

请求协议:HTTP

请求方法:POST

接口使用状态:正在测试

 

**请求参数**

参数类型：Json

根类型: Object

| **参数名** | **说明**               | **必填** | **类型** | **限制** | **示例** |
| ---------- | ---------------------- | -------- | -------- | -------- | -------- |
| movieId    | 所有上架未下映的电影ID | 是       | [string] |          |          |
| hallId     | 影厅                   | 是       | [string] |          |          |
| startTime  | 电影开始时间           | 是       | [string] |          |          |
| endTime    |                        | 是       | [string] |          |          |
| price      | 该场次的票价           | 是       | [number] |          |          |
| slotId     |                        | 是       | [string] |          |          |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名**   | **说明** |      | **类型** | **限制** | **示例** |
| ------------ | -------- | ---- | -------- | -------- | -------- |
| data         |          | 是   | [object] |          |          |
| data>>slotId |          | 是   | [string] |          |          |
| message      |          | 是   | [string] |          | success  |
| status       | 状态码   | 是   | [number] |          | 200      |



#### **49 获取排片信息**

 

**接口信息**

接口名称:获取排片信息

接口路径:/schedule/list

请求协议:HTTP

请求方法:GET

接口使用状态:正在测试

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名**              | **说明** |      | **类型** | **限制** | **示例**                     |
| ----------------------- | -------- | ---- | -------- | -------- | ---------------------------- |
| data                    |          | 是   | [object] |          |                              |
| data>>slot              |          | 是   | [array]  |          |                              |
| data>>slot>>slotId      |          | 是   | [string] |          | 111                          |
| data>>slot>>startTime   |          | 是   | [string] |          | 2019-06-13T03:05:10.000+0000 |
| data>>slot>>endTime     |          | 是   | [string] |          | 2019-06-14T03:05:21.000+0000 |
| data>>slot>>movieId     |          | 是   | [string] |          | 11237                        |
| data>>slot>>ticketPrize |          | 是   | [number] |          | 998                          |
| data>>slot>>hallId      |          | 是   | [string] |          | 12                           |
| data>>slot>>property    |          | 是   | [string] |          | fuck                         |
| message                 |          | 是   | [string] |          | success                      |
| status                  |          | 是   | [number] |          | 200                          |



#### **50 修改排片信息**

 

**接口信息**

接口名称:修改排片信息

接口路径:/schedule

请求协议:HTTP

请求方法:PUT

接口使用状态:正在测试

 

**请求参数**

参数类型：Json

根类型: Object

| **参数名** | **说明** | **必填** | **类型** | **限制** | **示例** |
| ---------- | -------- | -------- | -------- | -------- | -------- |
| slotId     |          | 是       | [string] |          |          |
| movieId    |          | 是       | [string] |          |          |
| hallId     |          | 是       | [string] |          |          |
| startTime  |          | 是       | [string] |          |          |
| endTime    |          | 是       | [string] |          |          |
| price      |          | 是       | [number] |          |          |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名** | **说明** |      | **类型** | **限制** | **示例** |
| ---------- | -------- | ---- | -------- | -------- | -------- |
| data       |          | 是   | [object] |          |          |
| message    |          | 是   | [string] |          | success  |
| status     | 状态码   | 是   | [number] |          | 200      |

 

**数据结构**



#### **51 删除排片信息**

 

**接口信息**

接口名称:删除排片信息

接口路径:/schedule

请求协议:HTTP

请求方法:DELETE

接口使用状态:正在测试

 

**请求参数**

参数类型：Json

根类型: Object

| **参数名** | **说明** | **必填** | **类型** | **限制** | **示例** |
| ---------- | -------- | -------- | -------- | -------- | -------- |
| slotId     |          | 是       | [string] |          |          |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名** | **说明** |      | **类型** | **限制** | **示例** |
| ---------- | -------- | ---- | -------- | -------- | -------- |
| data       |          | 是   | [object] |          |          |
| message    |          | 是   | [string] |          | success  |
| status     | 状态码   | 是   | [number] |          | 200      |

 

**数据结构**



#### **52 修改是否是特价场**

 

**接口信息**

接口名称:修改是否是特价场

接口路径:/bargain

请求协议:HTTP

请求方法:PUT

接口使用状态:已经弃用

 

**请求参数**

参数类型：Json

根类型: Object

| **参数名** | **说明** | **必填** | **类型** | **限制** | **示例**          |
| ---------- | -------- | -------- | -------- | -------- | ----------------- |
| state      |          | 是       | [number] |          | 0:特价场 1:普通场 |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名** | **说明** |      | **类型** | **限制** | **示例** |
| ---------- | -------- | ---- | -------- | -------- | -------- |
| data       |          | 是   | [object] |          |          |
| message    |          | 是   | [string] |          | success  |
| status     | 状态码   | 是   | [number] |          | 200      |

 

**数据结构**



#### **53 首页电影横板海报**

 

**接口信息**

接口名称:首页电影横板海报

接口路径:/movie/poster

请求协议:HTTP

请求方法:GET

接口使用状态:已经弃用

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名**   | **说明** |      | **类型** | **限制** | **示例** |
| ------------ | -------- | ---- | -------- | -------- | -------- |
| status       |          | 是   | [string] |          |          |
| data         |          | 是   | [array]  |          |          |
| data>>id     | 电影id   | 是   | [string] |          |          |
| data>>poster | 海报url  | 是   | [string] |          |          |
| message      |          | 是   | [string] |          |          |



#### **54 优惠券发放**

 

**接口信息**

接口名称:优惠券发放

接口路径:/coupon

请求协议:HTTP

请求方法:GET

接口使用状态:正在规划

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名**     | **说明** |      | **类型** | **限制** | **示例** |
| -------------- | -------- | ---- | -------- | -------- | -------- |
| data           |          | 是   | [object] |          |          |
| data>>couponID |          | 是   | [string] |          |          |
| message        |          | 是   | [string] |          | success  |
| status         | 状态码   | 是   | [number] |          | 200      |



#### **55 用户是否想看 (可以通过 获取用户想看电影得到)**

 

**接口信息**

接口名称:用户是否想看 (可以通过 获取用户想看电影得到)

接口路径:/favor/movie

请求协议:HTTP

请求方法:GET

接口使用状态:已经弃用

 

**GET参数**

 

| **参数名** | **说明** | **必填** | **类型** | **限制** | **示例** |
| ---------- | -------- | -------- | -------- | -------- | -------- |
| id         |          | 是       | [string] |          |          |
| movieId    |          | 是       | [string] |          |          |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名**   | **说明**                     |      | **类型**  | **限制** | **示例** |
| ------------ | ---------------------------- | ---- | --------- | -------- | -------- |
| status       |                              | 是   | [string]  |          |          |
| data         |                              | 是   | [object]  |          |          |
| data>>marked | 用户是否已经标记该电影为想看 | 是   | [boolean] |          |          |
| message      |                              | 是   | [string]  |          |          |



#### **56 取消订单**

 

**接口信息**

接口名称:取消订单

接口路径:/order/cancel

请求协议:HTTP

请求方法:DELETE

接口使用状态:正在测试

 

**请求参数**

参数类型：Json

根类型: Object

| **参数名** | **说明** | **必填** | **类型** | **限制** | **示例** |
| ---------- | -------- | -------- | -------- | -------- | -------- |
| orderId    | 订单ID   | 是       | [string] |          |          |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名** | **说明** |      | **类型** | **限制** | **示例** |
| ---------- | -------- | ---- | -------- | -------- | -------- |
| data       |          | 是   | [object] |          |          |
| message    |          | 是   | [string] |          | success  |
| status     | 状态码   | 是   | [number] |          | 200      |



#### **57 用户退票**

 

**接口信息**

接口名称:用户退票

接口路径:/order/refund

请求协议:HTTP

请求方法:POST

接口使用状态:正在测试

 

**请求参数**

参数类型：Json

根类型: Object

| **参数名** | **说明** | **必填** | **类型** | **限制** | **示例** |
| ---------- | -------- | -------- | -------- | -------- | -------- |
| userId     | 用户ID   | 是       | [string] |          |          |
| orderId    | 订单ID   | 是       | [string] |          |          |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名** | **说明** |      | **类型** | **限制** | **示例** |
| ---------- | -------- | ---- | -------- | -------- | -------- |
| data       |          | 是   | [object] |          |          |
| message    |          | 是   | [string] |          | success  |
| status     | 状态码   | 是   | [number] |          | 200      |

 

**详细说明**

返回是否可以退票成功后将会退还余额



#### **58 获取所有电影**

 

**接口信息**

接口名称:获取所有电影

接口路径:/movie/list

请求协议:HTTP

请求方法:GET

接口使用状态:正常启用

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名**                | **说明** |      | **类型** | **限制** | **示例**                                                     |
| ------------------------- | -------- | ---- | -------- | -------- | ------------------------------------------------------------ |
| data                      |          | 是   | [array]  |          |                                                              |
| data>>nation              |          | 是   | [string] |          | 中国香港                                                     |
| data>>distributionCompany |          | 是   | [string] |          | 华纳                                                         |
| data>>hPoster             |          | 是   | [string] |          | 1                                                            |
| data>>movieId             |          | 是   | [string] |          | 11237                                                        |
| data>>productionCompany   |          | 是   | [string] |          | 华纳                                                         |
| data>>nameEn              |          | 是   | [string] |          | afeizhengzhuan                                               |
| data>>video               |          | 是   | [string] |          | 1                                                            |
| data>>score               |          | 是   | [number] |          | 8.8                                                          |
| data>>timeLength          |          | 是   | [number] |          | 94                                                           |
| data>>imdb                |          | 是   | [string] |          | 888888                                                       |
| data>>uploadDate          |          | 是   | [string] |          | 2019-06-12                                                   |
| data>>videoList           |          | 是   | [string] |          | 1                                                            |
| data>>hierarchical        |          | 是   | [string] |          | R18                                                          |
| data>>downDate            |          | 是   | [string] |          | 2019-06-13                                                   |
| data>>name                |          | 是   | [string] |          | 阿飞正传                                                     |
| data>>stills              |          | 是   | [string] |          | 1                                                            |
| data>>state               |          | 是   | [number] |          | 0                                                            |
| data>>briefIntro          |          | 是   | [string] |          | 阿飞正传真好看！                                             |
| data>>category            |          | 是   | [string] |          | 剧情,爱情,犯罪                                               |
| data>>lang                |          | 是   | [string] |          | 中文                                                         |
| data>>poster              |          | 是   | [string] |          | https://p0.meituan.net/movie/885fc379c614a2b4175587b95ac98eb95045650.jpg@464w_644h_1e_1c |
| message                   |          | 是   | [string] |          | success                                                      |
| status                    |          | 是   | [number] |          | 200                                                          |



#### **59 查询指定场次的剩余座位情况**

 

**接口信息**

接口名称:查询指定场次的剩余座位情况

接口路径:/schedule/rest

请求协议:HTTP

请求方法:GET

接口使用状态:正常启用

 

**GET参数**

 

| **参数名** | **说明**       | **必填** | **类型** | **限制** | **示例** |
| ---------- | -------------- | -------- | -------- | -------- | -------- |
| scheduleId | 某一个场次的id | 是       | [string] |          |          |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名** | **说明**                   |      | **类型** | **限制** | **示例** |
| ---------- | -------------------------- | ---- | -------- | -------- | -------- |
| data       | 二维 0 , 1 数组；1表示可用 | 是   | [array]  |          |          |
| message    |                            | 是   | [string] |          | success  |
| status     | 状态码                     | 是   | [number] |          | 200      |

 

**详细说明**

返回的核心，是一个二维矩阵，对应了该场次下的座位情况 1：当前座位可用0：当前座位已经被买走



#### **60 主动给予指定会员以优惠券**

 

**接口信息**

接口名称:主动给予指定会员以优惠券

接口路径:/coupon/vip

请求协议:HTTP

请求方法:POST

接口使用状态:正常启用

 

**请求参数**

参数类型：Json

根类型: Object

| **参数名** | **说明**     | **必填** | **类型** | **限制** | **示例** |
| ---------- | ------------ | -------- | -------- | -------- | -------- |
| vipIdList  | id字符串数组 | 是       | [array]  |          |          |
| couponId   | 优惠券策略id | 是       | [string] |          |          |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名**     | **说明**                               |      | **类型** | **限制** | **示例**                         |
| -------------- | -------------------------------------- | ---- | -------- | -------- | -------------------------------- |
| data           |                                        | 是   | [array]  |          |                                  |
| data>>vipId    | vip卡id                                | 是   | [string] |          | 3a58fa2d88be4b9ba843807e62f82ad2 |
| data>>id       | 用户持有的单张优惠券id                 | 是   | [string] |          | 4e4017acea3047288db9ac73b1b75f92 |
| data>>state    | 优惠券状态, 0:已失效，1未使用，2已使用 | 是   | [number] |          | 1                                |
| data>>couponId | 优惠策略id                             | 是   | [string] |          | a                                |
| data>>userId   |                                        | 是   | [string] |          | 303bebcb72d848d79604f3ea729af51e |
| message        |                                        | 是   | [string] |          | success                          |
| status         |                                        | 是   | [number] |          | 200                              |



#### **61 获取所有满足充值金额的会员卡**

 

**接口信息**

接口名称:获取所有满足充值金额的会员卡

接口路径:/vip/list

请求协议:HTTP

请求方法:GET

接口使用状态:正常启用

 

**请求参数**

参数类型：Json

根类型: Object

| **参数名** | **说明**                                          | **必填** | **类型** | **限制** | **示例** |
| ---------- | ------------------------------------------------- | -------- | -------- | -------- | -------- |
| limitation | 非必选；默认值为0；筛选出高于该充值金额的所有会员 | 否       | [number] |          |          |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名**        | **说明** |      | **类型** | **限制** | **示例**                         |
| ----------------- | -------- | ---- | -------- | -------- | -------------------------------- |
| data              |          | 是   | [array]  |          |                                  |
| data>>vipLevel    |          | 是   | [null]   |          |                                  |
| data>>ownDate     |          | 是   | [string] |          | 2018-05-09T00:00:00.000+0000     |
| data>>remainValue |          | 是   | [number] |          | 500                              |
| data>>cardId      |          | 是   | [string] |          | 3a58fa2d88be4b9ba843807e62f82ad2 |
| data>>userId      |          | 是   | [string] |          | 303bebcb72d848d79604f3ea729af51e |
| message           |          | 是   | [string] |          | success                          |
| status            |          | 是   | [number] |          | 200                              |



#### **62 设定充值优惠**

 

**接口信息**

接口名称:设定充值优惠

接口路径:/vip/strategy/recharge

请求协议:HTTP

请求方法:POST

接口使用状态:正常启用

 

**请求参数**

参数类型：Json

根类型: Object

| **参数名** | **说明**                                         | **必填** | **类型** | **限制** | **示例** |
| ---------- | ------------------------------------------------ | -------- | -------- | -------- | -------- |
| amount     | 充值金额                                         | 是       | [number] |          |          |
| discount   | 减免金额；最终的付费金额即为 : amount - discount | 是       | [number] |          |          |



#### **63 根据电影名称关键字搜索电影**

 

**接口信息**

接口名称:根据电影名称关键字搜索电影

接口路径:/movie/key

请求协议:HTTP

请求方法:GET

接口使用状态:正常启用

 

**GET参数**

 

| **参数名** | **说明**                           | **必填** | **类型** | **限制** | **示例** |
| ---------- | ---------------------------------- | -------- | -------- | -------- | -------- |
| key        | 电影名称，可以是电影名称的子字符串 | 是       | [string] |          |          |

 

**返回参数**

参数类型：Json

根类型: Object

| **参数名**                | **说明** |      | **类型** | **限制** | **示例**                                                     |
| ------------------------- | -------- | ---- | -------- | -------- | ------------------------------------------------------------ |
| data                      |          | 是   | [array]  |          |                                                              |
| data>>nation              |          | 是   | [string] |          | 中国大陆,中国香港                                            |
| data>>distributionCompany |          | 是   | [null]   |          |                                                              |
| data>>hPoster             |          | 是   | [null]   |          |                                                              |
| data>>movieId             |          | 是   | [string] |          | 1203                                                         |
| data>>productionCompany   |          | 是   | [null]   |          |                                                              |
| data>>nameEn              |          | 是   | [null]   |          |                                                              |
| data>>video               |          | 是   | [null]   |          |                                                              |
| data>>score               |          | 是   | [number] |          | 9.5                                                          |
| data>>timeLength          |          | 是   | [number] |          | 171                                                          |
| data>>imdb                |          | 是   | [null]   |          |                                                              |
| data>>uploadDate          |          | 是   | [null]   |          |                                                              |
| data>>videoList           |          | 是   | [null]   |          |                                                              |
| data>>hierarchical        |          | 是   | [null]   |          |                                                              |
| data>>downDate            |          | 是   | [null]   |          |                                                              |
| data>>name                |          | 是   | [string] |          | 霸王别姬                                                     |
| data>>stills              |          | 是   | [null]   |          |                                                              |
| data>>briefIntro          |          | 是   | [null]   |          |                                                              |
| data>>category            |          | 是   | [string] |          | 爱情,剧情                                                    |
| data>>lang                |          | 是   | [null]   |          |                                                              |
| data>>poster              |          | 是   | [string] |          | https://p1.meituan.net/movie/20803f59291c47e1e116c11963ce019e68711.jpg@464w_644h_1e_1c |
| message                   |          | 是   | [string] |          | success                                                      |
| status                    |          | 是   | [number] |          | 200                                                          |

 

### 3.2 功能需求

### 3.2.1 发布会员卡

#### 3.2.1.1 特性描述
一个经过验证的经理完成发布会员卡充值优惠操作<br>
优先级：高

#### 3.2.1.2 刺激响应序列
刺激：经理开始修改发布会员卡充值优惠<br>
响应：系统返回当前的会员卡充值优惠<br>
刺激：经理正确输入购买会员卡的价格和优惠并确认<br>
响应：系统保存会员卡充值优惠，开始下一次修改会员卡充值优惠<br>
刺激：经理输入充值金额非法（输入不是大于0的数字）<br>
响应：系统提示输入非法<br>
刺激：经理取消修改会员卡充值优惠<br>
响应：系统关闭会员卡充值优惠<br>

#### 3.2.1.3 相关功能需求

| 功能名称                                                     | 具体描述                                                     |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| MoviesPurchaseManage.Input<br>MoviesPurchaseManage.Input.Cancel<br>MoviesPurchaseManage.Input.Del<br>MoviesPurchaseManage.Input.Confirm<br>MoviesPurchaseManage.Input.Invalid<br> | 系统应允许经理修改会员卡充值优惠时键盘输入<br>在经理输入取消命令时，系统关闭当前修改会员卡充值优惠任务，开始一个新的修改会员卡充值优惠任务<br>在经理输入确认命令时，系统确认已键入的信息<br>在经理输入信息不合法时，系统显示输入无效 |
| MoviesPurchaseManage.vip.Info<br>MoviesPurchaseManage.vip.Inprice<br>MoviesPurchaseManage.Find.Null<br/>MoviesPurchaseManage.Find.Invalid<br/>MoviesPurchaseManage.Close<br/>MoviesPurchaseManage.Close.Print | 系统显示当前会员卡充值优惠信息<br>输入会员卡优惠金额<br>在经理未输入任何修改会员卡充值优惠价格时，系统不予响应<br/>在经理输入非法时，系统提示错误<br/>系统关闭本次修改会员卡充值优惠任务<br/>系统显示本次修改会员卡充值优惠信息 |

### 3.2.2 会员优惠策略修改


#### 3.2.2.1 特性描述
一个经过验证的经理开始会员优惠策略修改，完成会员的等级划分、会员某个等级所需要达到的充值金额要求和对应会员等级的充值优惠额度修改
优先级：高<br>

#### 3.2.2.2 刺激响应序列
刺激：经理开始会员优惠策略修改<br>
响应：系统返回会员优惠策略管理的条目内容<br>
刺激：经理修改会员的等级属性<br>
响应：系统开始修改会员的等级属性<br>
刺激：经理正确输入新的会员等级属性并进行确认<br>
响应：系统保存会员等级属性，开始下一项会员条目的管理<br>
刺激：经理输入等级属性非法（必填属性未填）<br>
响应：系统提示输入非法<br>
刺激：经理选择会员等级限制的充值最低金额要求并确认<br>
响应：系统开始设置会员等级限制的充值最低金额要求<br>刺激：经理输入充值最低金额非法（必填属性未填或不为数字）<br>
响应：系统提示输入非法<br>刺激：经理选择会员等级的充值优惠额度并确认<br>
响应：系统开始设置会员等级的充值优惠额度<br>刺激：经理输入会员等级的充值优惠额度非法（必填属性未填或不为数字）<br>
响应：系统提示输入非法<br>

#### 3.2.2.3 相关功能需求
| 功能名称                                                     | 具体描述                                                     |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| VIPRank.Input.rank.add<br>VIPRank.Input.rank.update<br/>VIPRank.Input.rank.select<br/>VIPRank.Input.rank.remove | 系统应允许经理在修改会员的等级属性时键盘输入<br>在经理修改会员的等级属性时，系统根据分类等信息自动生成编号<br>在经理输入取消命令时，系统关闭等级属性任务，开始一个新的等级属性任务<br>在经理输入删除命令时，系统删除已键入的信息<br>在经理输入确认命令时，系统确认已键入的信息<br>在经理输入信息不合法时，系统显示输入无效 |
| VIPRank.Input.limitation.add<br/>VIPRank.Input.limitation.update<br/>VIPRank.Input.limitation.select<br/>VIPRank.Input.limitation.remove | 系统应允许经理在修改会员等级限制的充值最低金额要求时键盘输入<br/>在经理修改会员等级限制的充值最低金额要求时，系统根据分类等信息自动生成编号<br/>在经理输入取消命令时，系统关闭等级属性任务，开始一个新的等级属性任务<br/>在经理输入删除命令时，系统删除已键入的信息<br/>在经理输入确认命令时，系统确认已键入的信息<br/>在经理输入信息不合法时，系统显示输入无效 |
| VIPRank.Input.discount.add<br/>VIPRank.Input.discount.update<br/>VIPRank.Input.discount.select<br/>VIPRank.Input.discount.remove | 系统应允许经理在修改会员等级限制的充值优惠额度时键盘输入<br/>在经理修改会员等级限制的充值优惠额度时，系统根据分类等信息自动生成编号<br/>在经理输入取消命令时，系统关闭等级属性任务，开始一个新的等级属性任务<br/>在经理输入删除命令时，系统删除已键入的信息<br/>在经理输入确认命令时，系统确认已键入的信息<br/>在经理输入信息不合法时，系统显示输入无效 |

### 3.2.3 退票策略管理

#### 3.2.3.1 特性描述

一个经过验证的经理开始退票策略管理，完成退票策略的增删改查的操作

优先级：高

#### 3.2.3.2 刺激响应序列

刺激：经理选择新增退票策略开始<br>
响应：系统提示信息填写<br>
刺激：经理正确输入新的退票策略信息且确认<br>
响应：系统保存新的策略，开始下一次退票策略管理<br>
刺激：经理输入退票策略信息非法<br>
响应：系统提示输入非法<br>
刺激：经理选择删除退票策略<br>
响应：系统展示退票策略列表<br>
刺激：经理选择要删除的策略并确认<br>
响应：系统删除所选策略，开始下一次退票策略管理<br>
刺激：经理选择修改退票策略<br>
响应：系统展示退票策略列表<br>
刺激：经理选择要修改的策略并输入修改信息<br>
响应：系统修改相应的退票策略，开始下一次退票策略管理<br>
刺激：经理取消退票策略管理<br>
响应：系统关闭退票策略管理<br>

#### 3.2.3.3 相关功能需求

| 功能名称                                                     | 具体描述                                                     |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| RefundStrategyManage.Input<br>RefundStrategyManage.Input.Strategy<br>RefundStrategyManage.Input.Cancel<br>RefundStrategyManage.Input.Del<br>RefundStrategyManage.Input.Confirm<br>RefundStrategyManage.Input.Invalid<br> | 系统应允许经理在退票策略管理时键盘输入<br>在经理输入退票策略信息时，系统自动生成编号<br>在经理输入取消命令时，系统关闭当前退票策略管理任务，开始一个新的退票策略管理任务<br>在经理输入删除命令时，系统删除已键入的信息<br>在经理输入确认命令时，系统确认已键入的信息<br>在经理输入信息不合法时，系统显示输入无效 |
| RefundStrategyManage.Strategies<br>RefundStrategyManage.Strategies.New<br> | 系统显示退票策略列表<br>系统新建退票策略<br>                 |
| RefundStrategyManage.Modify.Null<br>RefundStrategyManage.Modify.Strategies<br> | 在经理输入任何退票策略信息时，系统不予响应<br>在经理选中一个退票策略项并键入修改信息时，系统在退票策略列表中修改该退票策略信息<br> |
| RefundStrategyManage.Del.Null<br>RefundStrategyManage.Del.Strategies<br> | 在经理未选中任何退票策略时，系统不予响应<br>在经理选中退票策略项并删除时，系统在退票策略列表中删除该退票策略信息 |
| RefundStrategyManage.Close<br>RefundStrategyManage.Close.Print<br> | 系统关闭本次退票策略管理任务<br>系统显示本次退票策略管理信息<br> |

### 3.2.4影厅管理

#### 3.2.4.1 特性描述

一个经过验证的管理员开始影厅管理，完成新增影厅、删除影厅、修改影厅的操作<br>
优先级：高<br>

#### 3.2.4.2 刺激响应序列

刺激：管理员开始影厅管理<br>
响应：系统返回影厅管理的类型<br>
刺激：管理员选择新增影厅<br>
响应：系统开始新增影厅<br>
刺激：管理员正确输入影厅属性且确认<br>
响应：系统保存影厅属性，开始下一次影厅管理<br>
刺激：管理员输入影厅属性非法（影厅名字重复）<br>
响应：系统提示输入非法<br>
刺激：管理员选择删除影厅<br>
响应：系统开始删除影厅<br>
刺激：管理员选择要删除的影厅并确认<br>
响应：系统删除所选种影厅，开始下一次影厅管理<br>
刺激：管理员选择修改影厅<br>
响应：系统开始修改影厅<br>
刺激：管理员选择要修改的影厅并键入修改信息<br>
响应：系统修改影厅属性，开始下一次影厅管理<br>
刺激：管理员取消影厅管理<br>
响应：系统关闭影厅管理<br>

#### 3.2.4.3 相关功能需求

| 功能名称                                                     | 具体描述                                                     |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| HallsManage.Input<br>HallsManage.Input.Halls<br>HallsManage.Input.Cancel<br>HallsManage.Input.Del<br>HallsManage.Input.Confirm<br>HallsManage.Input.Invalid<br> | 系统应允许管理员在消费记录管理时键盘输入<br>在管理员输入影厅属性时，系统自动生成编号<br>在管理员输入取消命令时，系统关闭当前影厅管理任务，开始一个新的影厅管理任务<br>在管理员输入删除命令时，系统删除已键入的信息<br>在管理员输入确认命令时，系统确认已键入的信息<br>在管理员输入信息不合法时，系统显示输入无效 |
| HallsManage.Halls<br>HallsManage.Halls.New<br>HallsManage.Halls.Name<br>HallsManage.Halls.Category<br>HallsManage.Halls.Model<br>HallsManage.Halls.Inprice<br>HallsManage.Halls.Outprice<br> | 系统显示输入影厅信息<br>系统新建影厅<br>输入影厅名称<br>输入影厅类型<br>输入影厅座位情况<br> |
| HallsManage.Modify.Null<br>HallsManage.Modify.Halls<br>      | 在管理员选中任何影厅时，系统不予响应<br>在管理员选中一个影厅项并键入修改信息时，系统在影厅列表中修改该影厅信息<br> |
| HallsManage.Del.Null<br>HallsManage.Del.Halls<br>            | 在管理员未输入任何影厅信息时，系统不予响应<br>在管理员选中影厅项并删除时，系统在影厅列表中删除该影厅信息 |
| HallsManage.Close<br>HallsManage.Close.Print<br>             | 系统关闭本次影厅管理任务<br>系统显示本次影厅管理信息<br>     |

### 3.2.5 管理影院角色

#### 3.2.5.1 特性描述

一个经过验证的经理开始影院角色管理，完成增加管理员信息、删除管理员信息、修改会员卡信息、查看会员卡信息操作<br>
优先级：高<br>

#### 3.2.5.2 刺激响应序列

刺激：经理开始影院角色管理<br>
响应：系统返回管理影院角色的类型<br>
刺激：经理选择新增管理员<br>
响应：系统开始新增管理员<br>
刺激：经理正确输入需要添加的管理员属性且确认<br>
响应：系统保存管理员属性，开始下一次影院角色管理<br>
刺激：经理输入管理员信息属性非法（必填属性未填）<br>
响应：系统提示输入非法<br>
刺激：经理选择删除管理员<br>
响应：系统开始删除管理员<br>
刺激：经理选择要删除的管理员并确认<br>
响应：系统删除所选管理员，开始下一次影院角色管理<br>
刺激：经理选择修改管理员信息<br>
响应：系统开始修改管理员信息<br>
刺激：经理选择要修改的管理员信息并键入修改信息<br>
响应：系统修改管理员属性，开始下一次影院角色管理<br>
刺激：经理输入管理员属性非法（必填属性未填）<br>
响应：系统提示输入非法<br>
刺激：经理选择查询管理员信息<br>
响应：系统开始查询管理员信息<br>
刺激：经理点击管理员卡片<br>
响应：系统返回该管理员的全部信息，开始下一次影院角色管理<br>
刺激：管理人员取消影院角色管理<br>
响应：系统关闭影院角色管理<br>

#### 3.2.5.3 相关功能需求



| 功能名称                                                     | 具体描述                                                     |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| vipRoleManage.Input<br>vipRoleManage.Input.Admin<br>vipRoleManage.Input.Cancel<br>vipRoleManage.Input.Del<br>vipRoleManage.Input.Confirm<br>vipRoleManage.Input.Invalid<br> | 系统应允许经理在影院角色管理时键盘输入<br>在经理输入管理员属性时，系统根据信息自动生成编号<br>在经理输入取消命令时，系统关闭当前影院角色管理任务，开始一个新的影院角色管理任务<br>在经理输入删除命令时，系统删除已键入的信息<br>在经理入确认命令时，系统确认已键入的信息<br>在经历输入信息不合法时，系统显示输入无效 |
| vipRoleManage.Admins<br>vipRoleManage.Admin.New<br>vipRoleManage.Admin.Name<br>vipRoleManage.Admin.Model<br> | 系统显示输入管理员信息<br>系统新建管理员<br>输入管理员名称<br>输入管理员编号<br> |
| vipRoleManage.Modify.Null<br>vipRoleManage.Modify.Admins<br>   | 在经理选中任何管理员时，系统不予响应<br>在经理选中一个管理员项并键入修改信息时，系统在管理员列表中修改该管理员信息<br> |
| vipRoleManage.Find.Null<br>vipRoleManage.Find.Invalid<br>vipRoleManage.Find.Admins<br>vipRoleManage.Find.Empty<br> | 在经理未输入任何管理员信息时，系统不予响应<br>在经理输入非法时，系统提示错误<br>在经理正确输入管理员编号时，系统显示查询到的管理员<br>查询结果为空时，系统显示未找到指定管理员<br> |
| vipRoleManage.Del.Null<br>vipRoleManage.Del.Admins<br>         | 在经理未输入任何管理员信息时，系统不予响应<br>在经理选中管理员项并删除时，系统在管理员列表中删除该管理员信息 |
| vipRoleManage.Close<br>vipRoleManage.Close.Print<br>           | 系统关闭本次影院角色管理任务<br>系统显示本次影院角色管理信息<br> |


### 3.2.6 用户退票

#### 3.2.6.1 特性描述

一个经过验证的普通用户开始订单退票处理
优先级：高<br>

#### 3.2.6.2 刺激响应序列

刺激：用户进入退票页面<br>响应：系统返回退票页面，展示所有历史订单信息<br>刺激：用户点击退票按钮<br>响应：系统显示退票的额度提示，并且基于用户确认操作<br>刺激：用户确认进行退票<br>响应：系统进行退票操作，返回退票结果<br>刺激：用户选择退票的订单状态不是 已支付<br>响应：系统提示用户必须支付之后才可以退票<br>刺激：用户选择退票的订单超过可退票范围/ 该订单对应的场次已开始<br>响应：系统提示退票失败

#### 3.2.6.3 相关功能需求


| 功能名称                                     | 具体描述                                                     |
| -------------------------------------------- | ------------------------------------------------------------ |
| Refund.UI.show<br>Refund.UI.conform          | 系统给予退票页面<br>系统响应用户的退票行为<br>               |
| Refund.logic.analysis<br>Refund.logic.result | 系统对用户的退票内容进行分析<br>系统对用户退票行为的结果进行响应 |



### 3.2.7 查看历史充值记录

#### 3.2.7.1 特性描述

已经购买会员卡成为VIP的观众进行查看操作并得到全部的会员卡充值记录

#### 3.2.7.2 刺激响应序列

刺激：观众开始历史充值记录查看
响应：系统返回历史充值记录列表

#### 3.2.7.3 相关功能需求

| 功能名称                                     | 具体描述                                                     |
| -------------------------------------------- | ------------------------------------------------------------ |
| Recharge.Find.History<br>Recharge.Find.Empty | 系统返回历史充值记录<br>查询结果为空时，系统显示未找到指定记录 |

### 3.2.8 消费记录查看

#### 3.2.8.1 特性描述

一个观众进行消费记录查看操作并得到该时间段内的消费记录<br>
优先级：低<br>

#### 3.2.8.2 刺激响应序列

刺激：观众开始消费记录查看<br>
响应：系统返回消费记录列表<br>

#### 3.2.8.3 相关功能需求

| 功能名称                                                     | 具体描述                                                     |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| ViewMemberHistory.Find.Records<br>ViewMemberHistory.Find.Empty<br> | 系统显示查询结果<br>查询结果为空时，系统显示未找到指定记录<br> |




### 3.2.9 赠送优惠券

#### 3.2.9.1 特性描述

一个经过验证的经理开始赠送优惠券，完成优惠券赠送操作<br>
优先级：一般<br>

#### 3.2.9.2 刺激响应序列

刺激：经理选择赠送优惠券<br>
响应：系统开始赠送优惠券<br>
刺激：经理正确输入会员最低累计消费的总金额且确认<br>
响应：系统保存金额，返回满足条件的会员列表和所有优惠券列表<br>
刺激：经理输入会员最低累计消费的总金额非法（不是大于0的数字）<br>
响应：系统提示输入非法<br>
刺激：经理选择本次赠送的优惠券<br>
响应：系统显示对应优惠券<br>
刺激：经理选择要赠送的会员并确认赠送<br>
响应：系统完成本次赠送操作，开始下一次优惠券赠送<br>
刺激：管理人员取消优惠券赠送<br>
响应：系统关闭优惠券赠送<br>

#### 3.2.9.3 相关功能需求

| 功能名称                                                     | 具体描述                                                     |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| vipCouponGiveaway.Input<br>vipCouponGiveaway.Input.Cancel    | 系统应允许经理在赠送优惠券时键盘输入<br>在经理输入取消命令时，系统关闭当前优惠券赠送任务，开始一个新的优惠券赠送任务 |
| vipCouponGiveaway.Input.Del<br/>vipCouponGiveaway.Input.Confirm<br/>vipCouponGiveaway.Input.Invalid<br/>vipCouponGiveaway.Price<br/>vipCouponGiveaway.Modify.vipNull<br/>vipCouponGiveaway.Modify.vips<br/>vipCouponGiveaway.Modify.couponNull<br/>vipCouponGiveaway.Modify.coupons<br/>vipCouponGiveaway.Find.Null | 在经理输入删除命令时，系统删除已键入的信息<br/>在经理入确认命令时，系统确认已键入的信息<br/>在经理输入信息不合法时，系统显示输入无效<br/>系统显示输入会员最低累计消费的总金额<br/>在经理选中任何会员时，系统不予响应<br/>在经理选中一个会员时，系统在会员列表中增加该会员<br/>在经理选中任何优惠券时，系统不予响应<br/>在经理选中一个优惠券时，系统显示该优惠券<br/>在经理未输入任何会员最低累计消费的总金额时，系统不予响应 |
| vipCouponGiveaway.Find.Invalid<br/>vipCouponGiveaway.Find.Empty<br/>vipCouponGiveaway.Close<br/>vipCouponGiveaway.Close.Print | 在经理输入非法时，系统提示错误<br/>查询结果为空时，系统显示未找到指定会员<br/>系统关闭本次优惠券赠送任务<br/>系统显示本次优惠券赠送信息 |
### 3.3 非功能需求

#### 3.3.1 安全性

Safety1：系统应该按照用户身份给予用户相应的访问权限。<br>Safety2：系统中有一个默认的管理员账号，只允许该管理员账号修改其他用户的权限和登陆密码，要有日志记录该账号的操作。<br>

#### 3.3.2 可维护性

Modifiability1：在系统的数据格式发生变化时，系统要能在3人1天内完成。<br>
Modifiability2：如果系统要增加新的特价和优惠类型，要能够在0.25个人月内完成。<br>
Modifiability3：如果系统要增加新的会员服务，要能够在0.25个人月内完成。<br>

#### 3.3.3 易用性

Usability1：系统布局要合理，方便用户找到所需功能，同时设置初次使用引导功能方便用户上手操作。<br>Usability2：系统显示各种单据的信息，或者用户、账户的信息时，行距要为1倍或以上行距，方便看清各种信息。<br>
Usability3：系统要对重点信息（如时间、价格等）突出显示，方便用户确认。<br>Usability4：系统应针对不同的终端屏幕尺寸展示出不同界面，提高用户的体验度。<br>

#### 3.3.4 可靠性

Reliability1：当网络通讯出现故障时，系统停止相关功能，维持现有信息

<ol>
    Reliability1.1：系统应该检测到故障，并尝试重新连接；<br>
    Reliability1.2：重新连接后，系统提示用户之前未完成的工作；<br>
</ol>

#### 3.3.5 业务规则

BR1：适用（电影标识，参照日期）的电影购票优惠策略。

<ol>
    (促销电影标识=电影标识)而且（（开始日期早于参照日期）并且（结束日期晚于等于参照日期））。
</ol>



BR2：适用（会员卡）的会员优惠策略。

<ol>
    (会员卡持有人=用户标识)。
</ol>



BR3：适用（电影标识）的电影购票优惠策略。

<ol>
    (促销商品标识=商品标识)。
</ol>



BR4：适用（优惠码，参照日期）的总额特价促销策略。

<ol>
    （优惠码真实存在）而且（（开始日期早于参照日期）并且（结束日期晚于等于参照日期））。
</ol>

BR5：适用（代金券，参照日期）的代金券促销策略。

<ol>
    （代金券可用额度<=总额）而且（（开始日期早于参照日期）并且（结束日期晚于等于参照日期））。
</ol>

#### 3.3.6 约束

1. 后端采用JAVA语言
2. 用户可以在PC端浏览器使用
3. 进行图形化界面操作
4. 开发过程中，开发者要提交软件需求规格文档、设计文档和测试报告文档

### 3.4 数据需求

#### 3.4.1 数据定义

DR1：系统需要存储3年内的电影票销售记录。<br>
DR2：系统需要存储电影的上映记录<br>
DR3：系统要存储用户（观众）的想看列表、订单记录等重要数据。<br>
DR4：系统删除之后的电影数据和用户数据仍然需要继续储存3个月的时间，以保证历史数据的正确性<br>

#### 3.4.2 默认数据

默认数据用于以下几种情况
+ 系统中新增数据时
+ 编辑数据时不小心将相关内容清空时
+ 当输入数据不合法时
+ 具体默认数据：
  + Default1：电影的上映时间默认1970-01-01。<br>
  + Default2：电影名称默认为“新电影”。<br>
  + Default3：电影票价格默认为0。<br>
  + Default4：电影评分默认为0。<br>
  + Default5：电影时长默认为0。<br>
  + Default6：电影票房默认为0。<br>
  + Default7：操作时间默认为当天。<br>
  + Default8：上映的电影列表默认为空。<br>
  + Default9：想看列表默认为空<br>
  + Default10：操作人员默认为当前登陆用户。<br>

#### 3.4.3 数据格式要求

- Format1：数量的格式必须为正整数。<br>
- Format2：日期和时间格式必须是yyyy-mm-dd。<br>
- Format3：电影ID格式为32为字符串<br>

#### 3.5 其他需求

- Install1：系统投入使用时，需要对管理员进行3天的培训。<br>


## 4 附录

1. 产品采用响应式界面设计，保证在不同分辨率浏览器上运行
2. 主要功能采用基于WebKit的WebView技术，也就是浏览器技术，能够在不同配置的设备上运行，具有比较好的可移植性